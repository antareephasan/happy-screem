import React from 'react'
import {
  Breadcrumb,
  BreadcrumbItem,
  BreadcrumbLink,
  BreadcrumbList,
  BreadcrumbSeparator,
} from '@relume_io/relume-ui'

type ImageProps = {
  src: string
  alt?: string
}

type BreadcrumbProps = {
  url: string
  title: string
}

type SocialMediaLinksProps = {
  icon: React.ReactNode
  url: string
}

type AuthorDetailsProps = {
  avatar: ImageProps
  fullName: string
  date: string
  readTime: string
}

type Props = {
  breadcrumbs: BreadcrumbProps[] | null
  heading: string
  image: ImageProps
  author: AuthorDetailsProps
  socialMediaLinks: SocialMediaLinksProps[]
}

export type BlogPostHeaderProps = React.ComponentPropsWithoutRef<'section'> & Partial<Props>

export const BlogPostHeader = (props: BlogPostHeaderProps) => {
  const { breadcrumbs, heading, author, image, socialMediaLinks } = props

  return (
    <section id="relume" className="px-[5%] py-16 md:py-24 lg:py-28">
      <div className="container">
        <div className="grid gap-x-20 gap-y-12 md:grid-cols-[.75fr_1fr]">
          <div className="mx-auto flex size-full max-w-lg flex-col items-start justify-start">
            <Breadcrumb className="mb-6 flex w-full items-center md:mb-8">
              <BreadcrumbList>
                {breadcrumbs &&
                  breadcrumbs.map((item, index) => (
                    <React.Fragment key={index}>
                      <BreadcrumbItem>
                        <BreadcrumbLink href={item.url}>{item.title}</BreadcrumbLink>
                      </BreadcrumbItem>
                      {index < breadcrumbs.length - 1 && <BreadcrumbSeparator />}
                    </React.Fragment>
                  ))}
              </BreadcrumbList>
            </Breadcrumb>
            <h1 className="mb-8 text-5xl font-bold md:mb-10 md:text-7xl lg:mb-12 lg:text-8xl">
              {heading}
            </h1>
            <div className="flex size-full flex-col items-start justify-start">
              <div className="rb-4 mb-6 flex items-center md:mb-8">
                {author && (
                  <div>
                    <h6 className="font-semibold">
                      <span className="font-normal">By </span>
                      {author.fullName}
                    </h6>
                    <div className="mt-1 flex">
                      <p className="text-sm">{author.date}</p>
                      <span className="mx-2">â€¢</span>
                      <p className="text-sm">{author.readTime}</p>
                    </div>
                  </div>
                )}
              </div>
              <div>
                <p className="text-base font-semibold">Share this post</p>
                <div className="rt-4 mt-3 grid grid-flow-col grid-cols-[max-content] items-start gap-2 md:mt-4">
                  {socialMediaLinks &&
                    socialMediaLinks.map((link, index) => (
                      <a
                        key={index}
                        href={link.url}
                        className="rounded-[1.25rem] bg-background-secondary p-1"
                      >
                        {link.icon}
                      </a>
                    ))}
                </div>
              </div>
            </div>
          </div>
          <div className="mx-auto w-full overflow-hidden">
            {image && (
              <img
                src={image.src}
                className="aspect-[3/2] size-full object-cover"
                alt={image.alt}
              />
            )}
          </div>
        </div>
      </div>
    </section>
  )
}
